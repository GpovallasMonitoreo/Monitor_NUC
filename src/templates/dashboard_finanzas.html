<!DOCTYPE html>
<html class="light" lang="es">
<head>
    <meta charset="utf-8"/>
    <meta content="width=device-width, initial-scale=1.0" name="viewport"/>
    <title>Argos DOOH - Dashboard Principal</title>
    <script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    <script id="tailwind-config">
        tailwind.config = {
            darkMode: "class",
            theme: {
                extend: {
                    colors: {
                        "primary": "#f97415",
                        "primary-dark": "#c2570e",
                        "background-light": "#f8f7f5",
                        "background-dark": "#23170f",
                        "surface-light": "#ffffff",
                        "surface-dark": "#2d2420",
                    },
                    fontFamily: {
                        "display": ["Inter", "sans-serif"],
                        "body": ["Inter", "sans-serif"],
                    },
                },
            },
        }
    </script>
    <style>
        body { font-family: 'Inter', sans-serif; }
        .kpi-card { transition: all 0.3s ease; }
        .kpi-card:hover { transform: translateY(-2px); box-shadow: 0 10px 25px rgba(0,0,0,0.1); }
        .screen-card { transition: all 0.3s ease; }
        .screen-card:hover { transform: translateY(-4px); box-shadow: 0 15px 30px rgba(249, 116, 21, 0.1); }
        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
        .fade-in { animation: fadeIn 0.5s ease-out; }
    </style>
</head>
<body class="bg-background-light dark:bg-background-dark text-slate-900 dark:text-slate-100 antialiased">
<div class="flex h-screen w-full overflow-hidden">
    <!-- Sidebar Principal -->
    <aside class="flex w-64 flex-col border-r border-slate-200 dark:border-slate-800 bg-surface-light dark:bg-surface-dark flex-shrink-0 z-20">
        <div class="flex h-16 items-center px-6 border-b border-slate-100 dark:border-slate-800/50">
            <div class="flex items-center gap-2">
                <div class="flex items-center justify-center size-8 rounded-lg bg-primary text-white">
                    <span class="material-symbols-outlined text-[20px]">dashboard</span>
                </div>
                <div class="flex flex-col">
                    <h1 class="text-slate-900 dark:text-white text-base font-bold leading-none tracking-tight">Argos DOOH</h1>
                    <p class="text-slate-500 dark:text-slate-400 text-xs font-medium mt-1">Centro de Comando</p>
                </div>
            </div>
        </div>
        
        <nav class="flex-1 overflow-y-auto px-3 py-6 space-y-1">
            <a href="/" class="flex items-center gap-3 px-3 py-2.5 rounded-lg bg-primary/10 text-primary dark:text-primary transition-colors group">
                <span class="material-symbols-outlined">dashboard</span>
                <span class="text-sm font-semibold">Dashboard</span>
            </a>
            
            <a href="pantallas.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200 transition-colors group">
                <span class="material-symbols-outlined">tv</span>
                <span class="text-sm font-medium">Pantallas</span>
            </a>
            
            <a href="inventario.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200 transition-colors group">
                <span class="material-symbols-outlined">inventory_2</span>
                <span class="text-sm font-medium">Inventario</span>
            </a>
            
            <a href="reportes.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200 transition-colors group">
                <span class="material-symbols-outlined">summarize</span>
                <span class="text-sm font-medium">Generar Reportes</span>
            </a>
            
            <a href="csv.html" class="flex items-center gap-3 px-3 py-2.5 rounded-lg text-slate-600 dark:text-slate-400 hover:bg-slate-50 dark:hover:bg-slate-800 hover:text-slate-900 dark:hover:text-slate-200 transition-colors group">
                <span class="material-symbols-outlined">download</span>
                <span class="text-sm font-medium">Descarga CSV</span>
            </a>
        </nav>
        
        <div class="p-4 border-t border-slate-100 dark:border-slate-800/50">
            <div class="flex items-center gap-3">
                <div class="size-8 rounded-full bg-primary/10 flex items-center justify-center">
                    <span class="material-symbols-outlined text-primary text-sm">person</span>
                </div>
                <div class="flex-1 min-w-0">
                    <p class="text-sm font-medium text-slate-900 dark:text-white truncate">Administrador</p>
                    <p class="text-xs text-slate-500 truncate">Sistema Argos</p>
                </div>
            </div>
        </div>
    </aside>

    <!-- Main Content -->
    <main class="flex-1 flex flex-col h-full overflow-hidden bg-background-light dark:bg-background-dark">
        <!-- Top Header -->
        <header class="flex h-16 items-center justify-between gap-4 border-b border-slate-200 dark:border-slate-800 bg-surface-light/80 dark:bg-surface-dark/80 px-8 backdrop-blur-md sticky top-0 z-10">
            <h2 class="text-xl font-bold text-slate-900 dark:text-white tracking-tight">Dashboard Principal</h2>
            <div class="flex items-center gap-4">
                <div class="flex items-center gap-2 px-3 py-1.5 bg-slate-100 dark:bg-slate-800 rounded-lg">
                    <span class="material-symbols-outlined text-slate-500 text-sm">calendar_today</span>
                    <span class="text-sm text-slate-700 dark:text-slate-300" id="current-date"></span>
                </div>
                <button onclick="refreshDashboard()" class="rounded-full p-2 text-slate-500 hover:bg-slate-100 dark:text-slate-400 dark:hover:bg-slate-800 transition-colors">
                    <span class="material-symbols-outlined">refresh</span>
                </button>
            </div>
        </header>

        <!-- Content -->
        <div class="flex-1 overflow-y-auto p-8">
            <div class="max-w-[1600px] mx-auto">
                <!-- KPI Section -->
                <div class="grid grid-cols-1 md:grid-cols-2 xl:grid-cols-4 gap-6 mb-8">
                    <div class="kpi-card bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200/60 dark:border-slate-800 fade-in">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Total Pantallas</p>
                                <h3 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight">12</h3>
                            </div>
                            <div class="p-2 bg-blue-100 dark:bg-blue-500/20 rounded-lg text-blue-600 dark:text-blue-400">
                                <span class="material-symbols-outlined text-[20px]">tv</span>
                            </div>
                        </div>
                        <div class="mt-4">
                            <div class="flex items-center justify-between text-xs">
                                <span class="text-emerald-600 dark:text-emerald-400">10 en línea</span>
                                <span class="text-amber-600 dark:text-amber-400">1 mantenimiento</span>
                                <span class="text-red-600 dark:text-red-400">1 desconectada</span>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200/60 dark:border-slate-800 fade-in" style="animation-delay: 0.1s;">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Ingresos Mensuales</p>
                                <h3 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight">$85,400</h3>
                            </div>
                            <div class="p-2 bg-emerald-100 dark:bg-emerald-500/20 rounded-lg text-emerald-600 dark:text-emerald-400">
                                <span class="material-symbols-outlined text-[20px]">trending_up</span>
                            </div>
                        </div>
                        <div class="mt-4">
                            <span class="inline-flex items-center text-xs text-emerald-600 dark:text-emerald-400">
                                <span class="material-symbols-outlined text-sm mr-1">arrow_upward</span>
                                +12% vs mes anterior
                            </span>
                        </div>
                    </div>

                    <div class="kpi-card bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200/60 dark:border-slate-800 fade-in" style="animation-delay: 0.2s;">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">ROI Promedio</p>
                                <h3 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight">18.2</h3>
                            </div>
                            <div class="p-2 bg-purple-100 dark:bg-purple-500/20 rounded-lg text-purple-600 dark:text-purple-400">
                                <span class="material-symbols-outlined text-[20px]">paid</span>
                            </div>
                        </div>
                        <div class="mt-4">
                            <span class="text-xs text-slate-500">Meta: 24 meses</span>
                            <div class="h-1.5 bg-slate-200 dark:bg-slate-700 rounded-full mt-1">
                                <div class="h-full bg-purple-500 rounded-full w-3/4"></div>
                            </div>
                        </div>
                    </div>

                    <div class="kpi-card bg-white dark:bg-surface-dark rounded-xl p-6 shadow-sm border border-slate-200/60 dark:border-slate-800 fade-in" style="animation-delay: 0.3s;">
                        <div class="flex justify-between items-start">
                            <div>
                                <p class="text-sm font-medium text-slate-500 dark:text-slate-400 mb-1">Uptime Promedio</p>
                                <h3 class="text-3xl font-bold text-slate-900 dark:text-white tracking-tight">98.7%</h3>
                            </div>
                            <div class="p-2 bg-cyan-100 dark:bg-cyan-500/20 rounded-lg text-cyan-600 dark:text-cyan-400">
                                <span class="material-symbols-outlined text-[20px]">verified</span>
                            </div>
                        </div>
                        <div class="mt-4">
                            <span class="text-xs text-emerald-600 dark:text-emerald-400">Excelente desempeño</span>
                        </div>
                    </div>
                </div>

                <!-- Charts Section -->
                <div class="grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8">
                    <div class="bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                        <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-6">Rendimiento Financiero Mensual</h3>
                        <div class="h-80">
                            <canvas id="revenueChart"></canvas>
                        </div>
                    </div>
                    
                    <div class="bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                        <h3 class="text-lg font-bold text-slate-900 dark:text-white mb-6">Distribución de Pantallas por Estado</h3>
                        <div class="h-80">
                            <canvas id="statusChart"></canvas>
                        </div>
                    </div>
                </div>

                <!-- Pantallas Destacadas -->
                <div class="mb-8">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-xl font-bold text-slate-900 dark:text-white">Pantallas Destacadas</h3>
                        <a href="pantallas.html" class="text-sm font-medium text-primary hover:text-primary-dark transition">
                            Ver todas las pantallas →
                        </a>
                    </div>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                        <div class="screen-card bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="inline-flex items-center gap-2 px-3 py-1 bg-emerald-100 dark:bg-emerald-500/20 text-emerald-700 dark:text-emerald-400 rounded-full text-xs font-medium mb-2">
                                        <span class="size-1.5 rounded-full bg-emerald-500"></span>
                                        Mejor ROI
                                    </div>
                                    <h4 class="font-bold text-slate-900 dark:text-white">Pantalla Aeropuerto</h4>
                                    <p class="text-sm text-slate-500">ARG-002</p>
                                </div>
                                <div class="size-12 rounded-lg bg-gradient-to-br from-emerald-500 to-emerald-600 flex items-center justify-center text-white">
                                    <span class="material-symbols-outlined">flight_takeoff</span>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">ROI:</span>
                                    <span class="font-bold text-emerald-600 dark:text-emerald-400">18.2 meses</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">Ingresos:</span>
                                    <span class="font-bold text-slate-900 dark:text-white">$12,000</span>
                                </div>
                            </div>
                            <a href="techview.html?device_id=ARG-002" class="mt-6 block w-full text-center px-4 py-2.5 bg-primary text-white font-bold rounded-lg hover:bg-primary-dark transition">
                                Ver Detalles
                            </a>
                        </div>
                        
                        <div class="screen-card bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="inline-flex items-center gap-2 px-3 py-1 bg-blue-100 dark:bg-blue-500/20 text-blue-700 dark:text-blue-400 rounded-full text-xs font-medium mb-2">
                                        <span class="size-1.5 rounded-full bg-blue-500"></span>
                                        Mayor Ingreso
                                    </div>
                                    <h4 class="font-bold text-slate-900 dark:text-white">Pantalla Zona Financiera</h4>
                                    <p class="text-sm text-slate-500">ARG-005</p>
                                </div>
                                <div class="size-12 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center text-white">
                                    <span class="material-symbols-outlined">business_center</span>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">Ingresos:</span>
                                    <span class="font-bold text-blue-600 dark:text-blue-400">$10,500</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">Uptime:</span>
                                    <span class="font-bold text-slate-900 dark:text-white">99.9%</span>
                                </div>
                            </div>
                            <a href="techview.html?device_id=ARG-005" class="mt-6 block w-full text-center px-4 py-2.5 bg-primary text-white font-bold rounded-lg hover:bg-primary-dark transition">
                                Ver Detalles
                            </a>
                        </div>
                        
                        <div class="screen-card bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                            <div class="flex items-start justify-between mb-4">
                                <div>
                                    <div class="inline-flex items-center gap-2 px-3 py-1 bg-amber-100 dark:bg-amber-500/20 text-amber-700 dark:text-amber-400 rounded-full text-xs font-medium mb-2">
                                        <span class="size-1.5 rounded-full bg-amber-500"></span>
                                        Requiere Atención
                                    </div>
                                    <h4 class="font-bold text-slate-900 dark:text-white">Pantalla Hospital</h4>
                                    <p class="text-sm text-slate-500">ARG-007</p>
                                </div>
                                <div class="size-12 rounded-lg bg-gradient-to-br from-amber-500 to-amber-600 flex items-center justify-center text-white">
                                    <span class="material-symbols-outlined">local_hospital</span>
                                </div>
                            </div>
                            <div class="space-y-3">
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">Estado:</span>
                                    <span class="font-bold text-amber-600 dark:text-amber-400">Mantenimiento</span>
                                </div>
                                <div class="flex items-center justify-between">
                                    <span class="text-sm text-slate-500">ROI:</span>
                                    <span class="font-bold text-red-600 dark:text-red-400">28.7 meses</span>
                                </div>
                            </div>
                            <a href="techview.html?device_id=ARG-007" class="mt-6 block w-full text-center px-4 py-2.5 bg-primary text-white font-bold rounded-lg hover:bg-primary-dark transition">
                                Gestionar
                            </a>
                        </div>
                    </div>
                </div>

                <!-- Alertas Recientes -->
                <div class="bg-white dark:bg-surface-dark rounded-xl shadow-sm border border-slate-200/60 dark:border-slate-800 p-6">
                    <div class="flex items-center justify-between mb-6">
                        <h3 class="text-lg font-bold text-slate-900 dark:text-white">Alertas Recientes</h3>
                        <span class="px-2 py-1 bg-red-100 dark:bg-red-500/20 text-red-600 dark:text-red-400 text-xs font-bold rounded">3 activas</span>
                    </div>
                    
                    <div class="space-y-4">
                        <div class="flex items-center justify-between p-4 bg-red-50 dark:bg-red-500/10 rounded-lg border border-red-200 dark:border-red-500/20">
                            <div class="flex items-center gap-3">
                                <div class="p-2 bg-red-100 dark:bg-red-500/20 rounded-lg">
                                    <span class="material-symbols-outlined text-red-600 dark:text-red-400">warning</span>
                                </div>
                                <div>
                                    <p class="font-medium text-slate-900 dark:text-white">Pantalla Plaza Mayor desconectada</p>
                                    <p class="text-sm text-slate-500">ARG-004 • Hace 2 horas</p>
                                </div>
                            </div>
                            <a href="techview.html?device_id=ARG-004" class="text-sm font-medium text-primary hover:text-primary-dark">
                                Ver →
                            </a>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-amber-50 dark:bg-amber-500/10 rounded-lg border border-amber-200 dark:border-amber-500/20">
                            <div class="flex items-center gap-3">
                                <div class="p-2 bg-amber-100 dark:bg-amber-500/20 rounded-lg">
                                    <span class="material-symbols-outlined text-amber-600 dark:text-amber-400">engineering</span>
                                </div>
                                <div>
                                    <p class="font-medium text-slate-900 dark:text-white">Mantenimiento preventivo pendiente</p>
                                    <p class="text-sm text-slate-500">ARG-003 • Vence en 3 días</p>
                                </div>
                            </div>
                            <a href="techview.html?device_id=ARG-003" class="text-sm font-medium text-primary hover:text-primary-dark">
                                Programar →
                            </a>
                        </div>
                        
                        <div class="flex items-center justify-between p-4 bg-blue-50 dark:bg-blue-500/10 rounded-lg border border-blue-200 dark:border-blue-500/20">
                            <div class="flex items-center gap-3">
                                <div class="p-2 bg-blue-100 dark:bg-blue-500/20 rounded-lg">
                                    <span class="material-symbols-outlined text-blue-600 dark:text-blue-400">inventory_2</span>
                                </div>
                                <div>
                                    <p class="font-medium text-slate-900 dark:text-white">Bajo stock de refacciones</p>
                                    <p class="text-sm text-slate-500">Módulos LED • Solo 3 unidades</p>
                                </div>
                            </div>
                            <a href="inventario.html" class="text-sm font-medium text-primary hover:text-primary-dark">
                                Revisar →
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</div>

<script>
    // Actualizar fecha actual
    document.getElementById('current-date').textContent = new Date().toLocaleDateString('es-MX', {
        weekday: 'long',
        year: 'numeric',
        month: 'long',
        day: 'numeric'
    });

    // Inicializar gráficas
    document.addEventListener('DOMContentLoaded', function() {
        // Gráfica de ingresos
        const revenueCtx = document.getElementById('revenueChart').getContext('2d');
        new Chart(revenueCtx, {
            type: 'line',
            data: {
                labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun', 'Jul', 'Ago', 'Sep', 'Oct', 'Nov', 'Dic'],
                datasets: [{
                    label: 'Ingresos',
                    data: [65000, 72000, 85000, 92000, 105000, 115000, 108000, 112000, 118000, 125000, 132000, 140000],
                    borderColor: '#10B981',
                    backgroundColor: 'rgba(16, 185, 129, 0.1)',
                    tension: 0.4,
                    fill: true
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: { legend: { position: 'top' } },
                scales: {
                    y: {
                        beginAtZero: true,
                        ticks: {
                            callback: function(value) {
                                return '$' + value/1000 + 'k';
                            }
                        }
                    }
                }
            }
        });

        // Gráfica de estados
        const statusCtx = document.getElementById('statusChart').getContext('2d');
        new Chart(statusCtx, {
            type: 'doughnut',
            data: {
                labels: ['En Línea', 'Mantenimiento', 'Desconectadas'],
                datasets: [{
                    data: [10, 1, 1],
                    backgroundColor: ['#10B981', '#F59E0B', '#EF4444'],
                    borderWidth: 2,
                    borderColor: '#ffffff'
                }]
            },
            options: {
                responsive: true,
                maintainAspectRatio: false,
                plugins: {
                    legend: { position: 'bottom' },
                    tooltip: {
                        callbacks: {
                            label: function(context) {
                                return `${context.label}: ${context.raw} pantallas`;
                            }
                        }
                    }
                }
            }
        });
    });

    function refreshDashboard() {
        alert('Dashboard actualizado');
    }
</script>
</body>
</html>
